# Zephyr
#IN DEVELOPMENT NPM PACKAGE
Parsing JSON data and import it to Zephyr as reports of autoamtion testing!

# FILE STRUCTURE
Zephyr project file must be placed in Crossuite directory, so path to jsons file is "../cross-app/reports/jsons/"

```shell script
.
├── Crossuite                             # project of Crossuite application
     └── zephyr                           # sub local project for import test results by parsing jsons data generated by Selenium
          └── data.ts                     # parsing data
          └── apicall.ts                  # request to zephyr CLOUD REST API : Apiary
          └── jwt-atuh.ts                 # authorization to Apiary
          └── main.ts                     # main data importing algorithm
          └── config.ts                   # authorization Zephyr for JIRA keys 
          └── node_modules.json
          └── package-lock.json
     └── cross-app 
          └── reports
```


# Installing project
```shell script
npm i
```

# Compile changes
```shell script
tsc main.ts
```

# Run compiled changes - resp. run importing
- needed reports folder as zephyr/reports
```shell script
node main.js {user_name} (branch_name) {cycle_custom_name}

# user_name - your name from config 
# branch_name - branch from which u run tests, when u put release/X.X.X, it will create new cycle RELEASE (if no exist in current version /X.X.X)
# cycle_custom_name - custom cycle name, it will ignore first part of branch {release/} and it will create new custom cycle with custom_cycle_name if no already exists for version /X.X.X
```

# Compile and run at once
```shell script
npx ts-node main.ts
```

